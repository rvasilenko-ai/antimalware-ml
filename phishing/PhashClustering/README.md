# Perception hashing and DBSCAN clustering for Phishing detection

## Content

In this section, we explore efficiency of a pHash algorithm of different size to detect similar phishing web pages (and separate dissimilar ones) using image similarity.

For our experiments, we will use dataset of **10000 phishing pages**. (see below details on how it was generated) 

The original dataset contains metadata about phishing websites:
* URL
* Potential phishing target (we will use "phishing target" to identify a web-site which being imitated by phishing page, while a tricked used will be called "phishing victim")
* Date of the visit
* Screenshot of the web site
 
Using notebook here, you will learn:
* how well pHash computed on screenshots generalizes similar web-sites and separates different ones
* how cluster phishing websites using DBSCAN clustering algorithm and improve generalization of pHash using clusters
* how we can label pages based on cluster they belong to 

After you finish the class, you can further experiment with clustering of phishing web-site screenshots using dataset.

## Dataset

#### To generate locally yourself
To generate image hashes and experiment further with different hash options please download phishing web-sites dataset from
https://nex.sx/blog/2019/12/15/the-year-of-the-phish.html

Torrent magnet link:
```
magnet:?xt=urn:btih:28f02613928c2666f7a8f70be4079c1084012cbb&dn=phishing.zip&tr=udp%3A%2F%2Ftracker.openbittorrent.com%3A80
```

then use script located 
```
scripts/process_screenshots.py 
```
to generate CSV ready for further processing.

To run the script locally you will also need to install dependency:
```
pip install pandas
pip install pysqlite
pip install imagehash
pip install Pillow
```

the script is compatible with both Python 2.7 and 3

#### To download
Cleaned-up dataset in CSV format is available here
